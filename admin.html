<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>StepLab Admin</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="assest/css/admin.css" />
  </head>
  <body>
    <!-- M√†n h√¨nh ƒëƒÉng nh·∫≠p -->
    <div id="login-screen" class="login-screen">
      <div class="login-card card">
        <h2>ƒêƒÉng nh·∫≠p Admin</h2>
        <input id="admin-user" placeholder="T√™n ƒëƒÉng nh·∫≠p" autocomplete="off" />
        <input
          id="admin-pass"
          placeholder="M·∫≠t kh·∫©u"
          type="password"
          autocomplete="off"
        />
        <div
          class="small"
          id="login-msg"
          style="color: red; height: 18px"
        ></div>
        <div class="actions" style="margin-top: 10px">
          <button id="login-btn" class="btn primary">ƒêƒÉng nh·∫≠p</button>
        </div>
      </div>
    </div>

    <!-- Giao di·ªán ch√≠nh Admin -->
    <div class="wrap" id="admin-app" style="display: none">
      <aside class="sidebar">
        <div class="brand">
          <img src="./assest/img/StepLab_Logo.svg" alt="logo" />
          <h1>StepLab Admin</h1>
        </div>
        <div class="small">
          Admin: <strong id="admin-name">Qu·∫£n tr·ªã</strong>
        </div>

        <nav class="nav-admin">
          <button data-section="dashboard" class="active">T·ªïng quan</button>
          <button data-section="users">Ng∆∞·ªùi d√πng</button>
          <button data-section="products">S·∫£n ph·∫©m</button>
          <button data-section="categories">Lo·∫°i / Danh m·ª•c</button>
          <button data-section="imports">Phi·∫øu nh·∫≠p</button>
          <button data-section="orders">ƒê∆°n h√†ng</button>
          <button data-section="pricing">Gi√° & L·ª£i nhu·∫≠n</button>
          <button data-section="inventory">T·ªìn kho</button>
          <button data-section="settings">C√†i ƒë·∫∑t</button>
        </nav>

        <div style="margin-top: 18px">
          <button id="logout" class="btn ghost" style="color: #fff">
            ƒêƒÉng xu·∫•t
          </button>
        </div>
      </aside>

      <main class="main">
        <div class="topbar">
          <h2 id="section-title">T·ªïng quan</h2>
        </div>

        <!-- ====== C√ÅC PH·∫¶N CH√çNH ====== -->

        <section id="dashboard" class="card section">
          <h3>T·ªïng quan</h3>
          <div style="display: flex; gap: 12px; margin-top: 12px">
            <div class="card" style="flex: 1">
              S·ªë kh√°ch h√†ng: <strong id="stat-users">0</strong>
            </div>
            <div class="card" style="flex: 1">
              S·ªë s·∫£n ph·∫©m: <strong id="stat-products">0</strong>
            </div>
            <div class="card" style="flex: 1">
              T·ªïng ƒë∆°n h√†ng: <strong id="stat-orders">0</strong>
            </div>
          </div>
        </section>

        <section id="users" class="card section hidden">
          <div class="controls">
            <input id="user-search" placeholder="T√¨m theo email ho·∫∑c t√™n" />
            <button id="add-user" class="btn primary">Th√™m ng∆∞·ªùi d√πng</button>
          </div>
          <div id="users-wrap">
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>T√™n</th>
                  <th>Email</th>
                  <th>M·∫≠t kh·∫©u</th>
                  <!-- ‚úÖ Th√™m c·ªôt m·∫≠t kh·∫©u -->
                  <th>Tr·∫°ng th√°i</th>
                  <th>H√†nh ƒë·ªông</th>
                </tr>
              </thead>
              <tbody id="users-table"></tbody>
            </table>
          </div>
        </section>

        <section id="products" class="card section hidden">
          <div class="controls">
            <input id="product-search" placeholder="T√¨m theo t√™n ho·∫∑c m√£" />
            <button id="search-product-btn"></button>
            <select id="filter-category">
              <option value="">T·∫•t c·∫£ danh m·ª•c</option>
            </select>
            <button id="import-sample" class="btn">Import m·∫´u</button>
            <button id="add-product" class="btn primary">Th√™m s·∫£n ph·∫©m</button>
          </div>
          <div id="products-wrap">
            <table>
              <thead>
                <tr>
                  <th>#</th>
                  <th>·∫¢nh</th>
                  <th>T√™n</th>
                  <th>M√£</th>
                  <th>Lo·∫°i</th>
                  <th>Gi√° b√°n</th>
                  <th>T·ªìn</th>
                  <th>H√†nh ƒë·ªông</th>
                </tr>
              </thead>
              <tbody id="products-table"></tbody>
            </table>
          </div>
        </section>

        <section id="categories" class="card section hidden">
          <h3>Qu·∫£n l√Ω danh m·ª•c & s·∫£n ph·∫©m</h3>
          <div class="controls">
            <input id="category-name" placeholder="T√™n danh m·ª•c" />
            <button id="add-category" class="btn primary">Th√™m danh m·ª•c</button>
          </div>

          <ul id="category-list"></ul>

          <hr />
          <h3>Th√™m s·∫£n ph·∫©m v√†o danh m·ª•c</h3>
          <form id="add-product-form">
            <select id="product-category" required>
              <option value="">-- Ch·ªçn danh m·ª•c --</option></select
            ><br /><br />

            <input
              id="product-code"
              placeholder="M√£ s·∫£n ph·∫©m"
              required
            /><br /><br />
            <input
              id="product-name"
              placeholder="T√™n s·∫£n ph·∫©m"
              required
            /><br /><br />
            <input id="product-desc" placeholder="M√¥ t·∫£ s·∫£n ph·∫©m" /><br /><br />
            <input
              id="product-price"
              type="number"
              placeholder="Gi√° (VND)"
              required
            /><br /><br />

            <label>H√¨nh s·∫£n ph·∫©m:</label>
            <input
              id="product-image"
              type="file"
              accept="image/*"
            /><br /><br />
            <img
              id="preview-product-image"
              src=""
              alt=""
              style="max-width: 100px; display: none; border-radius: 6px"
            />

            <button type="submit" class="btn primary">Th√™m s·∫£n ph·∫©m</button>
          </form>

          <hr />
          <h3>Danh s√°ch s·∫£n ph·∫©m</h3>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>·∫¢nh</th>
                <th>T√™n</th>
                <th>M√£</th>
                <th>Lo·∫°i</th>
                <th>Gi√°</th>
                <th>M√¥ t·∫£</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="category-products-table"></tbody>
          </table>
        </section>

        <!-- ====== PH·∫¶N QU·∫¢N L√ù PHI·∫æU NH·∫¨P ====== -->
        <!-- ====== PH·∫¶N QU·∫¢N L√ù PHI·∫æU NH·∫¨P ====== -->
        <section id="imports" class="card section hidden">
          <h3>üì• Qu·∫£n l√Ω Phi·∫øu Nh·∫≠p</h3>

          <div class="controls" style="margin-bottom: 10px">
            <button id="add-import" class="btn primary">
              T·∫°o phi·∫øu nh·∫≠p m·ªõi
            </button>
          </div>

          <div
            id="import-add-container"
            class="hidden"
            style="margin-bottom: 10px; border: 1px solid #ccc; padding: 10px"
          >
            <h4>Th√™m phi·∫øu nh·∫≠p m·ªõi</h4>
            <form id="import-form">
              <label
                >Ng√†y nh·∫≠p:
                <input type="date" id="import-date" required />
              </label>
              <label
                >S·∫£n ph·∫©m:
                <select id="import-product" required></select>
              </label>
              <label
                >Gi√° nh·∫≠p:
                <input
                  type="number"
                  id="import-price"
                  min="0"
                  step="0.01"
                  required
                />
              </label>
              <label
                >S·ªë l∆∞·ª£ng:
                <input type="number" id="import-qty" min="1" required />
              </label>
              <button type="submit">Th√™m phi·∫øu nh·∫≠p</button>
              <button
                type="button"
                onclick="document.getElementById('import-add-container').classList.add('hidden')"
              >
                H·ªßy
              </button>
            </form>
          </div>

          <div
            id="import-edit-container"
            class="hidden"
            style="margin-bottom: 10px; border: 1px solid #ccc; padding: 10px"
          >
            <h4>S·ª≠a phi·∫øu nh·∫≠p</h4>
            <form id="edit-import-form">
              <input type="hidden" id="edit-import-id" />
              <label
                >S·∫£n ph·∫©m:
                <select id="edit-import-product" disabled></select>
              </label>
              <label
                >Gi√° nh·∫≠p:
                <input
                  type="number"
                  id="edit-import-price"
                  min="0"
                  step="0.01"
                  required
                />
              </label>
              <label
                >S·ªë l∆∞·ª£ng:
                <input type="number" id="edit-import-qty" min="1" required />
              </label>
              <button type="submit">L∆∞u thay ƒë·ªïi</button>
              <button
                type="button"
                onclick="document.getElementById('import-edit-container').classList.add('hidden')"
              >
                H·ªßy
              </button>
            </form>
          </div>

          <div style="margin-bottom: 10px">
            <input
              type="text"
              id="import-search"
              placeholder="T√¨m phi·∫øu nh·∫≠p..."
            />
            <button id="search-import-btn" class="btn">T√¨m</button>
          </div>

          <table boder="1" style="width: 100%; margin-bottom: 10px">
            <thead>
              <tr>
                <th>#</th>
                <th>ID</th>
                <th>Ng√†y</th>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>S·ªë l∆∞·ª£ng nh·∫≠p</th>
                <th>T·ªìn kho</th>
                <th>Tr·∫°ng th√°i</th>
                <th>T·ªïng ti·ªÅn</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="imports-table"></tbody>
          </table>
        </section>
        <section id="orders" class="card section hidden">
          <h3>ƒê∆°n h√†ng</h3>
          <div class="controls">
            <select id="order-filter">
              <option value="">T·∫•t c·∫£</option>
              <option value="new">M·ªõi</option>
              <option value="processing">ƒêang x·ª≠ l√Ω</option>
              <option value="shipped">ƒê√£ giao</option>
              <option value="cancelled">H·ªßy</option>
            </select>
          </div>
          <table>
            <thead>
              <tr>
                <th>#</th>
                <th>Ng√†y</th>
                <th>Kh√°ch h√†ng</th>
                <th>TT</th>
                <th>T·ªïng</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="orders-table"></tbody>
          </table>
        </section>

        <section id="pricing" class="card section hidden">
          <h3>Qu·∫£n l√Ω gi√° & t·ªâ l·ªá l·ª£i nhu·∫≠n</h3>
          <div class="small">
            B·∫°n c√≥ th·ªÉ nh·∫≠p t·ªâ l·ªá l·ª£i nhu·∫≠n (%) theo lo·∫°i s·∫£n ph·∫©m ho·∫∑c s·ª≠a gi√°
            t·ª´ng s·∫£n ph·∫©m.
          </div>
          <div style="margin-top: 12px" class="form-grid">
            <div>
              <label>T·ªâ l·ªá l·ª£i nhu·∫≠n (theo danh m·ª•c)</label>
              <select id="profit-category">
                <option value="">Ch·ªçn danh m·ª•c</option>
              </select>
              <input id="profit-percent" placeholder="% l·ª£i nhu·∫≠n (vd: 20)" />
              <button id="apply-profit" class="btn primary">√Åp d·ª•ng</button>
            </div>
            <div>
              <label>Ch·ªânh gi√° s·∫£n ph·∫©m tr·ª±c ti·∫øp</label>
              <select id="product-price-select">
                <option value="">Ch·ªçn s·∫£n ph·∫©m</option>
              </select>
              <input id="product-price-input" placeholder="Gi√° b√°n (VND)" />
              <button id="save-product-price" class="btn primary">L∆∞u</button>
            </div>
          </div>
        </section>
        <section id="inventory" class="card section hidden">
          <h3>üì¶ Qu·∫£n l√Ω t·ªìn kho & c·∫£nh b√°o</h3>

          <!-- 1Ô∏è‚É£ C·∫£nh b√°o t·ªìn kho theo ng∆∞·ª°ng -->
          <div class="controls">
            <input
              id="inv-stock-threshold"
              type="number"
              placeholder="Nh·∫≠p ng∆∞·ª°ng c·∫£nh b√°o (v√≠ d·ª• 10)"
            />
            <button id="inv-check-stock" class="btn">Ki·ªÉm tra t·ªìn kho</button>
          </div>
          <div id="inv-stock-result" style="margin-top: 15px"></div>

          <hr />

          <!-- 2Ô∏è‚É£ Tra c·ª©u t·ªìn kho theo s·∫£n ph·∫©m/danh m·ª•c -->
          <div class="controls">
            <select id="inv-stock-category">
              <option value="">-- T·∫•t c·∫£ danh m·ª•c --</option>
            </select>
            <select id="inv-stock-product">
              <option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>
            </select>
            <button id="inv-btn-search-stock" class="btn">Tra c·ª©u t·ªìn</button>
          </div>
          <div id="inv-stock-search-result" class="mt-2"></div>

          <hr />

          <!-- 3Ô∏è‚É£ Th·ªëng k√™ nh·∫≠p/xu·∫•t theo ng√†y -->
          <div class="controls">
            <label>T·ª´ ng√†y:</label>
            <input type="date" id="inv-date-from" />
            <label>ƒê·∫øn ng√†y:</label>
            <input type="date" id="inv-date-to" />
            <button id="inv-btn-stock-stats" class="btn">Th·ªëng k√™</button>
          </div>
          <div id="inv-stock-stats" class="mt-2"></div>
        </section>

        <section id="settings" class="card section hidden">
          <h3>C√†i ƒë·∫∑t</h3>
          <div class="small">
            M·ªôt s·ªë t√πy ch·ªçn: ƒë·ªìng b·ªô d·ªØ li·ªáu kh√°ch h√†ng, reset d·ªØ li·ªáu m·∫´u.
          </div>
          <div style="margin-top: 12px" class="controls">
            <button id="sync-to-customer" class="btn primary">
              ƒê·ªìng b·ªô v·ªõi ph·∫ßn kh√°ch h√†ng
            </button>
            <button id="reset-sample" class="btn">Reset d·ªØ li·ªáu m·∫´u</button>
          </div>
        </section>
        <section id="orders" class="card section hidden">
          <h3>üì¶ Qu·∫£n l√Ω ƒë∆°n h√†ng</h3>

          <!-- L·ªçc theo tr·∫°ng th√°i -->
          <div class="controls" style="margin-bottom: 10px">
            <label>Tr·∫°ng th√°i:</label>
            <select id="order-filter">
              <option value="">T·∫•t c·∫£</option>
              <option value="new">M·ªõi ƒë·∫∑t</option>
              <option value="processing">ƒêang x·ª≠ l√Ω</option>
              <option value="shipped">ƒê√£ giao</option>
              <option value="cancelled">H·ªßy</option>
            </select>

            <!-- L·ªçc theo kho·∫£ng ng√†y -->
            <label>T·ª´ ng√†y:</label>
            <input type="date" id="order-start-date" />
            <label>ƒê·∫øn ng√†y:</label>
            <input type="date" id="order-end-date" />
            <button id="order-filter-date" class="btn">L·ªçc theo ng√†y</button>
          </div>

          <table borde="1" style="width: 100%">
            <thead>
              <tr>
                <th>#</th>
                <th>Ng√†y ƒë·∫∑t</th>
                <th>Kh√°ch h√†ng</th>
                <th>Tr·∫°ng th√°i</th>
                <th>T·ªïng ti·ªÅn</th>
                <th>H√†nh ƒë·ªông</th>
                >
              </tr>
            </thead>
            <tbody id="orders-table"></tbody>
          </table>
        </section>
      </main>
    </div>

    <!-- Script x·ª≠ l√Ω -->
    <script src="js/admin.js"></script>
  </body>
</html>
